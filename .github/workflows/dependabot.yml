name: Dependabot PR CI
on:
  schedule:
    - cron: "0 */6 * * *" # Every six hours
  workflow_dispatch:
jobs:
  auto-merge:
    name: Auto Merge
    runs-on: ubuntu-latest
    steps:
      - name: Harden the runner (Audit all outbound calls)
        uses: step-security/harden-runner@f4a75cfd619ee5ce8d5b864b0d183aff3c69b55a # v2.13.1
        with:
          egress-policy: audit

      - name: Merge minor/patch updates
        uses: koj-co/dependabot-pr-action@fdc117e45d5ee003c9a7d81fc3c111c95183b70c # master
        with:
          token: ${{ secrets.GH_PAT }}
          merge-minor: true
          merge-patch: true